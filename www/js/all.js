var Joystick={yaw:0,pitch:0,roll:0,throttle:0,init:function(){interact(".pad").draggable({onmove:Joystick.dragMoveListener}),$("#stabilize").click(function(){navigator.vibrate(50),$("#rjoystick .pad").css("transition","all 0.25s").css("transform","translate(0px, 0px)")})},dragMoveListener:function(t){var a=t.target;if(!Joystick.isInsideCircle($(a).position().left,-$(a).position().top)){var r=Joystick.getClosestInnerPoint($(a).position().left,-$(a).position().top);if("ljoystick"==$(a).parent().attr("id"))var e=-r[1]-200;else var e=-r[1]-100;a.setAttribute("data-x",r[0]-100),a.setAttribute("data-y",e)}var i=(parseFloat(a.getAttribute("data-x"))||0)+t.dx,o=(parseFloat(a.getAttribute("data-y"))||0)+t.dy;a.style.webkitTransform=a.style.transform="translate("+i+"px, "+o+"px)",a.setAttribute("data-x",i),a.setAttribute("data-y",o)},isInsideCircle:function(t, a){var r=!1,e=200,i=e/2,o=e/2,n=-e/2,s=Math.pow(t-o,2)+Math.pow(a-n,2),c=Math.pow(i,2);return c>=s&&(r=!0),r},updateYawThrottle:function(t, a){},updatePitchRoll:function(t, a){},getClosestInnerPoint:function(t, a){var r=100,e=-100,i=100,o=(a-e)/(t-r),n=a-o*t,s=1+Math.pow(o,2),c=-2*r+2*o*(n-e),l=Math.pow(n-e,2)-Math.pow(i,2)+Math.pow(r,2),p=Math.pow(c,2)-4*s*l,u=(-1*c-Math.sqrt(p))/(2*s),h=(-1*c+Math.sqrt(p))/(2*s);if(Math.abs(t-u)<Math.abs(t-h))var d=Math.trunc(u),M=Math.trunc(o*u+n);else var d=Math.trunc(h),M=Math.trunc(o*h+n);return[d,M]}};